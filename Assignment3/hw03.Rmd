---
title: "Assignment 03"
author: "Kevin Hu"
date: "26/09/2019"
output: html_document
---

```{r, message=FALSE, warning= FALSE}
library(gapminder)
library(tidyverse)
library(scales)
```
### Task 1: Get the maximum and minimum of GDP per capita for all continents
  This task can be achieved by the following codes, and the results are shown below.
```{r}
gapminder %>% 
  group_by(continent) %>% 
  summarize(maximum = max(gdpPercap),
            minimum = min(gdpPercap))
```

### Task 2: Look at the spread of GDP per capita within the continents
  One easy way to visualize the spread between groups is ridge plot. The ridge plot calculates and stacks kernal density plots of each group (continent) on a common axis (GDP per capita in log scale) for easy comparison. The ridge plot is generated by the following codes:
```{r}
gapminder %>% 
  ggplot(aes(gdpPercap, continent, fill = continent)) +
  labs(x = "GDP per capita", y = "Continent") +
  ggridges::geom_density_ridges()
```
  
  However, the grap above is visually skewed to the left. This does not represent the data as intented. In task 1, we knew the ranges between coninents are very different. Asia has a outstanding maximum, while Oceania has a minmum in different order of magnitude compared to others. Therefore, it is better to display each density plot saperately with different x axes.
```{r, fig.width= 8}
gapminder %>% 
  ggplot(aes(gdpPercap)) +
  labs(x = "GDP per capita", y = "Probability density") +
  geom_density()+
  facet_wrap(~ continent, scales = "free")+
  theme_bw()
```
 
  In summary, the distributions of all continents are skewed to the left. Africa, Aisa, and Americas have relatively narrow spread. In contrast, Oceania and Europe have more variability in GDP per capita between countries. 
  
### Task 3: How is life expectancy changing over time on different continents?
  This can be achieved by plotting time series for all countries, then split by continent using the facet function.
```{r}
gapminder %>% 
  ggplot(aes(year, lifeExp, group = country)) +
  geom_line(alpha = 0.2) +
  facet_wrap(~ continent)+
  theme_bw()
```

  In general, the life expentancy were increasing in all continents. A few counties in Africa, Americas, and Asia experienced some fluctuations. 


